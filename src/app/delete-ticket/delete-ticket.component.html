<section class="topicDelete">
  <div><h2>Check / Cancel Ticket</h2></div>
</section>

<section class="TktInfo">
  <div class="tktFetch">
    <input type="text" placeholder="Enter Your Ticket Number" #ticketIdInput>
    <button class="conform" (mouseover)="addRipple($event)" (click)="checkTicket(ticketIdInput.value)">Check Ticket</button>
  </div>
</section>

<div class="ticket-container" *ngIf="ticketData">
  <div class="header">
    <div class="logo">
      <span>Step Railway</span>
    </div>
    <div class="details">
      <p>Ticket Code: <span>{{ ticketData.id }}</span></p>
    </div>
    <div class="logo-right">
      <img [src]="logoUrl" alt="Logo">
    </div>
  </div>

  <div class="trip-info">
    <div class="departure">
      <p class="label">Departure:</p>
      <p class="location">{{ ticketData.train?.from }} <span>at {{ ticketData.train?.departure }}</span></p>
    </div>
    <div class="arrival">
      <p class="label">Arrival:</p>
      <p class="location">{{ ticketData.train?.to }} <span>at {{ ticketData.train?.arrive }}</span></p>
    </div>
    <div class="date">
      <p class="label">Departure Date:</p>
      <p class="value">{{ ticketData.date }}</p>
    </div>
  </div>

  <div class="contact-info">
    <p class="label">Contact Information:</p>
    <div class="info-row">
      <p>Email: <span>{{ ticketData.email }}</span></p>
      <p>Phone: <span>{{ ticketData.phone }}</span></p>
    </div>
  </div>

  <div class="passenger-info">
    <p class="label">Passengers</p>
    <div class="passenger-table">
      <div class="table-row" *ngFor="let person of ticketData.persons; let i = index">
        <span>Name: {{ person.name }}</span>
        <span>Surname: {{ person.surname }}</span>
        <span>ID Number: {{ person.idNumber }}</span>
        <span>Seat: {{ person.seat?.number || '-' }}</span>
      </div>
    </div>
  </div>

  <div class="payment-info">
    <div class="payment-details">
      <p class="label">Payment info:</p>
      <p>Credit Card - **** **** **** ****</p>
    </div>
    <div class="total-price">
      <p class="label">Total Paid</p>
      <p class="price">{{ ticketData.ticketPrice }} <span>â‚¾</span></p>
    </div>
  </div>

  <div class="disclaimer">
    <p>Information is computer-generated and valid without print and signature.</p>
    <p>Please check your data to identify the ticket number.</p>
  </div>

</div>

  <div class="deleteButton" *ngIf="ticketData">
    <button (mouseover)="addRipple($event)" (click)="cancelTicketById()">Cancel Ticket</button>
  </div>

<div *ngIf="successMessage" class="success-message"><div class="succss">
  <svg class="icon-check" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/></svg> 
</div> {{ successMessage }}</div>
<div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

